{% extends 'logged_in_base.html' %}
{% load static %}

{# Load the tag library #}
{% load bootstrap3 %}


{% block css_imports %}
<link rel="stylesheet" type="text/css" href="{% static 'userhandling/css/youtubemodal.css' %}">
<link  href="{% static 'userhandling/css/val_succ_modal.css' %}" rel="stylesheet">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.19/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">
<link href="{% static 'userhandling/lib/mdb/css/mdb.lite.min.css' %}" rel="stylesheet">


<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css" type="text/css" media="all" rel="stylesheet">
<link href="/static/bootstrap_datepicker_plus/css/datepicker-widget.css" type="text/css" media="all" rel="stylesheet">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="/static/bootstrap_datepicker_plus/js/datepicker-widget.js"></script>

<script src="https://cloud.tinymce.com/5/tinymce.min.js?apiKey=pqiihwpzf32ctpl7kn59g5ivcztnma4qormn1elar66gqrw4"></script>

 <script>
tinymce.init({
    selector: "#tinymice",
    min_height: 300,
    setup: function (editor) {
        editor.on('change', function () {
            editor.save();
        });
    }
});
  </script>
{% endblock %}


{% block modals %}




<!--Central Modal Small -->
<div class="modal fade" id="movieModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

    <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg" role="document">


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="movieModalTitle">Modal title</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <div class="container">
          <!--Grid row-->
          <div class="row">

            <div class="col-lg-4">
              <div class="row">
                  <div  id="movieModalPoster"></div>
               </div>
                <div class="row"></div>
                <div class="row justify-content-center">



                <div id="trailerbutton"></div>



                </div>

            </div>


            <div class="col-lg-8">
            <!--Grid column-->
              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Year:</p>
                </div>

            <!--Grid column-->

              <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalYear"> </p>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Country:</p>
                </div>

                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalCountry"> </p>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Director:</p>
                </div>

                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalDirector"> </p>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Producer:</p>
                </div>

                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalProducer"> </p>
                </div>
              </div>



              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Actors:</p>
                </div>

                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalActors"> </p>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Runtime:</p>
                </div>

                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalRuntime"> </p>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-2">
                  <p class="font-weight-bold">Plot:</p>
                </div>

                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-10">
                  <p id="movieModalPlot"> </p>
                </div>
              </div>
            <!--Col-->
            </div>
          </div>

        </div>
      </div>



      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary btn-sm addbutton" id="moviemodaladdbutton">Add</button>
      </div>
    </div>
  </div>
</div>
<!-- Central Modal Small -->

<!-- Movie Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog youtube-modal-dialog" role="document">
    <div class="modal-content">


      <div class="modal-body youtube-modal-body">

       <button type="button" class="close youtube-modal-close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <!-- 16:9 aspect ratio -->
<div class="embed-responsive embed-responsive-16by9">
  <iframe class="embed-responsive-item" src="" id="video"  allowscriptaccess="always" allow="autoplay"></iframe>
</div>


      </div>

    </div>
  </div>
</div>

<!--Modal: modalConfirmDelete-->
<div class="modal fade" id="modalMovieAlreadyAdded" tabindex="-1" role="modal-notify" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">Movie already added</p>
      </div>

      <!--Body-->
      <div class="modal-body">
      <i class="fa fa-times fa-4x mb-3 animated bounce" style="color:#FF3547"></i>
    

      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        <a type="button" class="btn  btn-danger waves-effect" data-dismiss="modal">Alright, alright...</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>


<!--Modal: modalConfirmDelete-->
<div class="modal fade" id="movieaddSuccess" tabindex="-1" role="modal-notify" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm modal-notify modal-success" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">Movie added!</p>
      </div>

      <!--Body-->
      <div class="modal-body">

         <i class="fa fa-check fa-4x mb-3 animated rotateIn" style="color:#00C851"></i>

      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        <a type="button" class="btn  btn-success waves-effect" data-dismiss="modal">Nice!</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>







{% endblock %}


{% block hero %}
  <!--==========================
    Hero Section
  ============================-->
  <section id="hero">
    <div class="hero-container">
      <h1>Welcome to Cinemaple!</h1>
      <h2>Add an awesome movie night event!</h2>
    
      <a href="#facts" class="btn-get-started">Let's do it!</a>
    </div>
  </section><!-- #hero -->
{% endblock %}


{% block main %}
  <main id="main">






<!--==========================
Add Movie Night
============================-->
<section id="facts">
  <div class="container wow fadeIn">
    <div class="section-header">
      <h3 class="section-title">Add Movies</h3>
      <p class="section-description">Search for movies and add it to movie night event.</p>
    </div>

    {# Display django.contrib.messages as Bootstrap alerts #}
    {% bootstrap_messages %}
    <form action="/add_movie_night" method="post" class="form">
      {% csrf_token %}
      {% bootstrap_form form1 %}
      {{ form2.as_p }}


        <div class="form-group">
          <label class="control-label" for="">Movies:</label>
          <div  id="moviealerts"></div> 
          <div id="advisealert" class="alert alert-warning alert-dismissible fade show" role="alert">
          Add movies by searching for movies below!
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
         </button>
</div>
        </div>
   
      
    
      {% buttons %}
      <button type="submit" class="btn btn-primary">
      {% bootstrap_icon "star" %} Add Movie Night
      </button>
      {% endbuttons %}
    </form>


      <div class="form-group">
        <label class="control-label" for="">Search to add movies:</label>
        <div  id="moviealerts"></div> 
      </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-default">Title</span>
      </div>
      <input type="text" id="querytitle" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
    </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-default">Year</span>
      </div>
        <input type="text" id="queryyear"class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
      </div>
    <div>

  

      <table id="movietable" class="display" width="100%">
        <thead>
          <tr>
          </tr>
        </thead>

      </table>

    </div>

  Powered by <a href="https://www.themoviedb.org/">The Movie DB</a>


  </div>

</section><!-- #facts -->

  </main>
{% endblock %}



{% block js %}





<script language="javascript">






{% if debug %}
tmdb_url_trunk = "http://127.0.0.1:8000/tmdb/";
{% else %}
tmdb_url_trunk = "http://www.cinemaple.com/tmdb/";
{% endif %}



{% if debug %}
tmdbimdb_movie_url_trunk = "http://127.0.0.1:8000/imdb_tmdb/movie/";
{% else %}
tmdbimdb_movie_url_trunk = "http://www.cinemaple.com/imdb_tmdb/movie/";
{% endif %}

</script>

<script type="text/javascript" src="{% static 'userhandling/js/add_movies.js' %}"></script>

  <script type="text/javascript" src="{% static 'userhandling/lib/mdb/js/mdb.min.js' %}"></script>


{% endblock %}

